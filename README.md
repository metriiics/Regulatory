# Regulatory-research

# Сравнительное моделирование дискретных регуляторов для терморегулирования в Python

**Кочетков Алексей Алексеевич**  
студент, кафедра информационных технологий и систем  
Владивостокский государственный университет  
РФ, г. Владивосток  
email: alexseykochetkov23@gmail.com [file:1]

---

## Резюме

В современной техносфере системы с обратной связью играют роль «центральной нервной системы», обеспечивая точность там, где человеческая реакция или простые алгоритмы бессильны. [file:1]  
От стабилизации дронов в турбулентном потоке до управления химическими реакторами — везде работают алгоритмы регулирования. [file:1]  
Среди них безусловным промышленным стандартом остается ПИД-регулятор. [file:1]  
Согласно данным Honeywell, более 97% регуляторов в таких отраслях, как нефтепереработка и целлюлозно-бумажная промышленность, используют именно ПИД-алгоритм. [file:1]

Данная статья представляет собой комплексный анализ механизмов управления — фундаментальной логики обратной связи. [file:1]  
Ключевая цель — раскрыть синергию P, I и D компонентов как инструментов работы с настоящим, прошлым и будущим состоянием системы. [file:1]

**Ключевые слова:** ПИД-регулятор, обратная связь, замкнутый контур, уставка, переменная процесса, ошибка управления, пропорциональный коэффициент, интегральный коэффициент, дифференциальный коэффициент, установившаяся ошибка, перерегулирование, интегральное насыщение, время нарастания, время установления, подавление возмущений, робастность, терморегулирование, фильтрация сигнала. [file:1]

---

## Abstract

**Comparative modeling of discrete regulators for thermal control in Python.**  

Kochetkov Alexsey Alekseevich  
student, Department of Information Technologies and Systems  
Vladivostok State University  
Russian Federation, Vladivostok  
email: alexseykochetkov23@gmail.com [file:1]

In the modern technosphere, feedback systems act as the "central nervous system," ensuring precision where human reactions or simple algorithms fall short. [file:1]  
From stabilizing drones in turbulent flows to controlling chemical reactors—regulation algorithms are at work everywhere. [file:1]  
Among them, the PID controller remains the unconditional industrial standard. [file:1]  
According to Honeywell data, over 97% of controllers in industries such as oil refining and pulp and paper use the PID algorithm precisely. [file:1]

This article presents a comprehensive analysis of control mechanisms — the fundamental logic of feedback. [file:1]  
The key goal is to reveal the synergy of the P, I, and D components as tools for working with the system's present, past, and future states. [file:1]

**Keywords:** PID controller, feedback, closed loop, setpoint, process variable, control error, proportional gain, integral gain, derivative gain, steady-state error, overshoot, integral windup, rise time, settling time, disturbance rejection, robustness, temperature control, signal filtering. [file:1]

---

## Введение

Основа стабильности системы — концепция «замкнутого контура». [file:1]  
В отличие от разомкнутых систем, которые действуют «вслепую», замкнутый контур постоянно анализирует результат действий. [file:1]  
Для описания этого процесса используются четыре базовых термина. [file:1]

- **Уставка (Setpoint, SP):** целевое значение, которого мы хотим достичь (например, давление в 5 бар). [file:1]  
- **Процессная переменная (Process Variable, PV):** реальный сигнал с датчика в текущий момент. [file:1]  
- **Ошибка (Error, e(t)):** математическая разница между целью и реальностью: \( e(t) = r(t) - y(t) \), где r(t) – это цель, а y(t) – сигнал в текущий момент времени. [file:1]  
- **Управляющее воздействие (u(t)):** команда, посылаемая регулятором на исполнительный механизм (мотор, клапан). [file:1]

Представьте, что вы стоите на гироскутере. [file:1]  
Глаза и вестибулярный аппарат — это датчики (PV), фиксирующие отклонение от вертикали (SP). [file:1]  
Мозг — это регулятор, который вычисляет ошибку e(t) и мгновенно дает команду мышцам ног (u(t)) скорректировать положение. [file:1]  
Это живой пример обратной связи: действие → замер результата → мгновенная коррекция. [file:1]

---

## П-регулятор: Реакция на «Сейчас»

Пропорциональный коэффициент \( K_p \) — это первая линия обороны. [file:1]  
Его работа описывается уравнением: [file:1]

\[
u(t) = K_p \cdot e(t)
\]

где u(t) — управляющий сигнал (actuator output), подаваемый на исполнительный механизм в момент времени t; e(t) — ошибка управления (control error), рассчитываемая как разность между уставкой и текущим значением; \( K_p \) — пропорциональный коэффициент (proportional gain), определяющий реакцию системы на текущую ошибку. [file:1]

Здесь сила воздействия прямо зависит от величины текущей ошибки. [file:1]

- Высокий \( K_p \) делает систему «агрессивной» и быстрой, но провоцирует опасные колебания. [file:1]  
- Низкий \( K_p \) гарантирует стабильность, но делает систему вялой. [file:1]  
- Стратегическое ограничение: главный враг П-регулятора — статическая ошибка (Steady-State Error). [file:1]  
  Он принципиально не может довести систему до идеального нуля, если на объект действует постоянная нагрузка. [file:1]

П-регулятор подобен жесткости пружины. [file:1]  
Чем сильнее ошибка сжимает пружину, тем сильнее она толкает в ответ. [file:1]  
Но если на пружину постоянно давит груз, она никогда не вернется в истинную точку «ноль». [file:1]  
Именно поэтому круиз-контроль, использующий только П-звено, никогда не удержит ровно 100 км/ч на крутом подъёме — скорость всегда будет чуть ниже. [file:1]

---

## И-регулятор: Память о «Прошлом»

Чтобы устранить статическую ошибку, системе нужно «помнить» свои неудачи. [file:1]  
Интегральная составляющая накапливает ошибку во времени: [file:1]

\[
u(t) = K_i \int_0^{t} e(\tau) \, d\tau
\]

где u(t) — управляющий сигнал, подаваемый на исполнительный механизм в момент времени t; \( K_i \) — интегральный коэффициент (integral gain), определяющий скорость устранения накопленной статической ошибки; \(\int_0^{t} e(\tau) d\tau\) — интегральный терм, представляющий собой накопленную сумму прошлых ошибок за всё время работы системы. [file:1]

Даже если текущее отклонение мизерное, за минуты накопленная сумма становится огромной и заставляет регулятор дожать систему до идеала. [file:1]

Критический риск — интегральное насыщение (Windup). [file:1]  
Если клапан уже открыт на 100%, а ошибка сохраняется (например, затор в трубе), интеграл продолжает расти «в уме». [file:1]  
Когда затор исчезнет, регулятор не сразу закроет клапан, так как ему нужно время, чтобы «сбросить» накопленный груз. [file:1]  
В химическом производстве это может приводить к порче целых партий продукта или срабатыванию предохранительных клапанов. [file:1]

Интеграл можно представить как «терпеливого, но злопамятного наставника». [file:1]  
Он суммирует каждую секунду вашего опоздания. [file:1]  
Чем дольше вы не исправляете маленькую ошибку, тем сильнее растет его давление, пока вы не придёте в норму. [file:1]

---

## Д-регулятор: Предсказание «Будущего»

Дифференциальное звено — это тормозная система, работающая на опережение. [file:1]  
Она реагирует не на саму ошибку, а на скорость её изменения: [file:1]

\[
u(t) = K_d \frac{d e(t)}{d t}
\]

где u(t) — управляющий сигнал, подаваемый на исполнительный механизм в момент времени t; \( K_d \) — дифференциальный коэффициент (derivative gain), отвечающий за реакцию на скорость изменения ошибки; \(\frac{d e(t)}{d t}\) — дифференциальный терм, представляющий собой скорость изменения ошибки и позволяющий предсказать её будущее поведение. [file:1]

Принцип: если ошибка стремительно сокращается, Д-звено понимает, что система движется к цели слишком быстро, и начинает тормозить заранее, предотвращая перерегулирование. [file:1]

Главная проблема — шум. [file:1]  
Любой «дребезг» в сигнале датчика дифференциал воспринимает как большую скорость изменения и выдаёт хаотичные удары по исполнительным механизмам. [file:1]

Д-звено можно сравнить с опытным вратарём. [file:1]  
Он не ждёт, пока мяч пересечёт линию ворот. [file:1]  
Он анализирует траекторию и скорость полёта, перемещаясь в точку будущего соприкосновения ещё до того, как мяч там окажется. [file:1]

---

## ПИД-регулятор: Симфония управления

Когда три компонента работают вместе, формируется «золотой стандарт» автоматизации: [file:1]

\[
u(t) = K_p e(t) + K_i \int_0^{t} e(\tau)\, d\tau + K_d \frac{d e(t)}{d t}
\]

где u(t) — управляющий сигнал, e(t) — ошибка управления; \(K_p\) — пропорциональный коэффициент; \(K_i\) — интегральный коэффициент; \(K_d\) — дифференциальный коэффициент; интеграл и производная соответствуют накоплению ошибок прошлого и оценке скорости изменения ошибки. [file:1]

Это синергия трёх сил: P отвечает за настоящее, I исправляет ошибки прошлого, а D прогнозирует будущее. [file:1]

- ПИ-регулятор: достаточен для около 90% задач, таких как управление уровнем в баке или медленные тепловые процессы. [file:1]  
- ПИД-регулятор: необходим в динамичных системах второго порядка (прецизионное движение, стабилизация давления), где важно исключить перерегулирование при сохранении высокой скорости. [file:1]

---

## Результаты моделирования

Для анализа был построен простейший пример работы регуляторов термостата на языке Python. [file:1]  
Рассматривались И‑регулятор, ПИ‑регулятор и ПИД‑регулятор. [file:1]

### И‑регулятор

Интегрирующий регулятор формирует управляющее воздействие на основе накопленной ошибки за прошедшее время. [file:1]  
Его основная задача — полное устранение установившейся ошибки, поскольку воздействие растёт до тех пор, пока разница между уставкой и текущей температурой не станет равной нулю. [file:1]  
Система достигает заданной температуры, однако процесс характеризуется более медленным достижением цели и склонностью к колебаниям. [file:1]

*(Рисунок 1. График работы И‑регулятора / Figure 1. Schedule of the I‑regulator)* [file:1]

### ПИ‑регулятор

ПИ‑регулятор объединяет реакцию на текущую ошибку (пропорциональная часть) и накопленный опыт (интегральная часть). [file:1]  
Этот тип устройства является наиболее распространённым в промышленности и обеспечивает надёжное управление. [file:1]  
Пропорциональная составляющая значительно ускоряет реакцию системы, заставляя температуру быстрее стремиться к 80 °C. [file:1]  
Однако сочетание P и I часто приводит к перерегулированию (overshoot) — временному превышению целевого значения перед окончательной стабилизацией. [file:1]

*(Рисунок 2. График работы ПИ‑регулятора / Figure 2. Schedule of the PI‑regulator)* [file:1]

### ПИД‑регулятор

Пропорционально‑интегрально‑дифференцирующий регулятор дополнен дифференциальной составляющей, которая прогнозирует будущее поведение системы на основе скорости изменения ошибки. [file:1]  
В задачах терморегулирования, обладающих значительной инерцией, дифференциальный компонент действует как «тормоз» или амортизатор, предотвращая резкие скачки. [file:1]  
Моделирование показывает, что ПИД‑регулятор обеспечивает наиболее качественный переходный процесс: он позволяет использовать более высокие коэффициенты усиления для быстрого прогрева, одновременно демпфируя колебания и минимизируя перерегулирование. [file:1]

*(Рисунок 3. График работы ПИД‑регулятора / Figure 3. Schedule of the PID‑regulator)* [file:1]

### Сводный график

На четвёртом рисунке продемонстрированы все регуляторы на одном графике, что позволяет наглядно оценить вклад каждого компонента в качество терморегулирования. [file:1]

*(Рисунок 4. Сравнительный график всех трёх регуляторов / Figure 4. Comparative drawing of all three regulators)* [file:1]

---

## Обсуждение

Эксперимент показал, что графики переходных процессов для ПИ и ПИД‑регуляторов практически совпали. [file:1]  
Этот результат не является ошибкой моделирования, а отражает фундаментальные аспекты теории управления. [file:1]

- **Достаточность ПИ‑регулирования для простых систем.**  
  ПИ‑регулятор часто выступает «золотым стандартом» и применяется, когда не требуется предельно жёсткое управление или когда доминирующая динамика объекта относится к первому порядку (простейшие модели нагрева, уровень жидкости в баке). [file:1]  
  В таких случаях вклад дифференциальной составляющей минимален. [file:1]

- **Чувствительность дифференциала к шуму.**  
  Главная проблема D‑компонента — чрезвычайная чувствительность к шуму измерений. [file:1]  
  Поскольку симуляция в Python проводилась в идеальных условиях без зашумления сигнала датчика, дифференциатор не имел высокочастотных отклонений, которые ему пришлось бы демпфировать. [file:1]

Тот факт, что ПИ и ПИД отработали почти одинаково, подтверждает тезис: в большинстве практических приложений сложность ПИД‑регулятора не всегда оправдана, и ПИ‑регулятор обеспечивает требуемое качество управления при большей простоте настройки. [file:1]  
Это объясняет, почему значительная часть промышленных контроллеров в реальности не использует дифференциальную функцию. [file:1]

---

## Заключение

Регуляторы — это не абстрактные формулы из учебника, а стратегический актив, делающий мир более предсказуемым и безопасным. [file:1]  
Понимание физики, стоящей за каждой переменной, превращает инженера из оператора в архитектора систем. [file:1]  
В эпоху робототехники и частной космонавтики умение «укротить» обратную связь — базовый инженерный код. [file:1]

Теория автоматического управления — это не только работа с формулами, но и искусство чувствовать динамику объекта. [file:1]  
Осознание причин колебаний системы или её «зависания» до достижения цели значительно ценнее слепого подбора коэффициентов в симуляторе. [file:1]  
Практика с реальным «железом», датчиками и моторами формирует настоящего мастера систем управления. [file:1]

---

## Список источников / References

1. Goodwin, G. C., Graebe, S. F., Salgado, M. E. *Classical PID Control* (Control System Design, Prentice Hall PTR). [file:1]  
2. Webb, J. W., Reis, R. A. *PID Control of Continuous Processes* (Programmable Logic Controllers, Fourth Edition, Prentice Hall PTR). [file:1]  
3. Åström, K. J., Hägglund, T. *PID Controllers: Theory, Design, and Tuning* (3rd ed., 2005). Этот источник считается одним из наиболее полных по данной теме. [file:1]  
4. Mindell, D. *Treatment of PID History* (2002). Работа посвящена истории развития и возникновения ПИД‑технологий. [file:1]
